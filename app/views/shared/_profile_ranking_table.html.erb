<!-- Profile Ranking Table Component -->
<section class="relative">
  <%= render 'shared/section_header', 
             icon_gradient_class: icon_gradient,
             icon_svg: icon,
             title: title,
             subtitle: subtitle %>
  
  <div class="overflow-hidden rounded-2xl bg-white shadow-xl ring-1 ring-gray-900/5">
    <div class="overflow-x-auto">
      <table class="min-w-full divide-y divide-gray-200">
        <thead class="bg-gradient-to-r from-gray-50 to-gray-100">
          <tr>
            <th scope="col" class="py-4 pl-6 pr-3 text-left text-xs font-semibold uppercase tracking-wider text-gray-700">Perfil</th>
            <th scope="col" class="px-3 py-4 text-right text-xs font-semibold uppercase tracking-wider text-gray-700">
              <% if highlight == 'followers' %>
                <div class="inline-flex items-center gap-1.5 px-3 py-1.5 rounded-lg bg-blue-100">
                  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor" class="w-4 h-4 text-blue-700">
                    <path d="M10 9a3 3 0 1 0 0-6 3 3 0 0 0 0 6ZM6 8a2 2 0 1 1-4 0 2 2 0 0 1 4 0ZM1.49 15.326a.78.78 0 0 1-.358-.442 3 3 0 0 1 4.308-3.516 6.484 6.484 0 0 0-1.905 3.959c-.023.222-.014.442.025.654a4.97 4.97 0 0 1-2.07-.655ZM16.44 15.98a4.97 4.97 0 0 0 2.07-.654.78.78 0 0 0 .357-.442 3 3 0 0 0-4.308-3.517 6.484 6.484 0 0 1 1.907 3.96 2.32 2.32 0 0 1-.026.654ZM18 8a2 2 0 1 1-4 0 2 2 0 0 1 4 0ZM5.304 16.19a.844.844 0 0 1-.277-.71 5 5 0 0 1 9.947 0 .843.843 0 0 1-.277.71A6.975 6.975 0 0 1 10 18a6.974 6.974 0 0 1-4.696-1.81Z" />
                  </svg>
                  <span class="text-blue-700">Seguidores</span>
                </div>
              <% else %>
                Seguidores
              <% end %>
            </th>
            <th scope="col" class="px-3 py-4 text-right text-xs font-semibold uppercase tracking-wider text-gray-700">
              <% if highlight == 'interactions' %>
                <div class="inline-flex items-center gap-1.5 px-3 py-1.5 rounded-lg bg-green-100">
                  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor" class="w-4 h-4 text-green-700">
                    <path d="M1 8.25a1.25 1.25 0 1 1 2.5 0v7.5a1.25 1.25 0 1 1-2.5 0v-7.5ZM11 3V1.7c0-.268.14-.526.395-.607A2 2 0 0 1 14 3c0 .995-.182 1.948-.514 2.826-.204.54.166 1.174.744 1.174h2.52c1.243 0 2.261 1.01 2.146 2.247a23.864 23.864 0 0 1-1.341 5.974C17.153 16.323 16.072 17 14.9 17h-3.192a3 3 0 0 1-1.341-.317l-2.734-1.366A3 3 0 0 0 6.292 15H5V8h.963c.685 0 1.258-.483 1.612-1.068a4.011 4.011 0 0 1 2.166-1.73c.432-.143.853-.386 1.011-.814.16-.432.248-.9.248-1.388Z" />
                  </svg>
                  <span class="text-green-700">Interacciones</span>
                </div>
              <% else %>
                Engagement
              <% end %>
            </th>
            <th scope="col" class="px-3 py-4 text-right text-xs font-semibold uppercase tracking-wider text-gray-700">
              <% if highlight == 'videos' %>
                <div class="inline-flex items-center gap-1.5 px-3 py-1.5 rounded-lg bg-purple-100">
                  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor" class="w-4 h-4 text-purple-700">
                    <path d="M3.25 4A2.25 2.25 0 0 0 1 6.25v7.5A2.25 2.25 0 0 0 3.25 16h7.5A2.25 2.25 0 0 0 13 13.75v-7.5A2.25 2.25 0 0 0 10.75 4h-7.5ZM19 4.75a.75.75 0 0 0-1.28-.53l-3 3a.75.75 0 0 0-.22.53v4.5c0 .199.079.39.22.53l3 3a.75.75 0 0 0 1.28-.53V4.75Z" />
                  </svg>
                  <span class="text-purple-700">Vistas</span>
                </div>
              <% else %>
                Videos
              <% end %>
            </th>
            <th scope="col" class="px-3 py-4 text-center text-xs font-semibold uppercase tracking-wider text-gray-700">Categor√≠a</th>
            <th scope="col" class="px-3 py-4 text-left text-xs font-semibold uppercase tracking-wider text-gray-700">Tags</th>
            <th scope="col" class="px-3 py-4 text-center text-xs font-semibold uppercase tracking-wider text-gray-700">Verificada</th>
            <th scope="col" class="px-3 py-4 text-center text-xs font-semibold uppercase tracking-wider text-gray-700">Business</th>
          </tr>
        </thead>
        <tbody class="divide-y divide-gray-100 bg-white">
          <%= render partial: "profiles/profile_table", collection: profiles, as: :profile, locals: { highlight: highlight } %>
        </tbody>
      </table>
    </div>
  </div>
</section>

