<!-- Hero Section -->
<div class="relative bg-gradient-to-br from-indigo-900 via-purple-900 to-pink-900 py-16">
  <div class="absolute inset-0 bg-[url('data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNjAiIGhlaWdodD0iNjAiIHZpZXdCb3g9IjAgMCA2MCA2MCIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj48ZyBmaWxsPSJub25lIiBmaWxsLXJ1bGU9ImV2ZW5vZGQiPjxnIGZpbGw9IiNmZmYiIGZpbGwtb3BhY2l0eT0iMC4wNSI+PHBhdGggZD0iTTM2IDEzNGg4djhoLTh6TTI4IDE0Mmg4djhoLTh6TTQ0IDE0Mmg4djhoLTh6Ii8+PC9nPjwvZz48L3N2Zz4=')] opacity-20"></div>
  
  <div class="relative mx-auto px-6 sm:px-8 lg:px-12 xl:px-16 2xl:px-24 max-w-[1800px]">
    <div class="text-center">
      <div class="inline-flex items-center gap-3 mb-4 px-4 py-2 rounded-full bg-white/10 backdrop-blur-md border border-white/20">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor" class="w-5 h-5 text-pink-300">
          <path fill-rule="evenodd" d="M5.5 3A2.5 2.5 0 0 0 3 5.5v2.879a2.5 2.5 0 0 0 .732 1.767l6.5 6.5a2.5 2.5 0 0 0 3.536 0l2.878-2.878a2.5 2.5 0 0 0 0-3.536l-6.5-6.5A2.5 2.5 0 0 0 8.38 3H5.5ZM6 7a1 1 0 1 0 0-2 1 1 0 0 0 0 2Z" clip-rule="evenodd" />
        </svg>
        <span class="text-sm font-bold text-white uppercase tracking-wider">Explorar Tags</span>
      </div>
      
      <h1 class="text-4xl md:text-5xl lg:text-6xl font-bold text-white mb-3">
        Tags de Influencers
      </h1>
      
      <p class="text-lg text-purple-100">
        Descubre influencers por sus intereses, nichos y especialidades
      </p>
    </div>
  </div>
</div>

<!-- Tags Grid -->
<div class="bg-gradient-to-b from-gray-50 to-white py-12">
  <div class="mx-auto px-6 sm:px-8 lg:px-12 xl:px-16 2xl:px-24 max-w-[1800px]">
    
    <!-- Stats Section -->
    <div class="mb-12">
      <div class="grid grid-cols-1 md:grid-cols-3 gap-6">
        <!-- Total Tags Card -->
        <div class="relative overflow-hidden rounded-2xl bg-white p-8 shadow-lg ring-1 ring-gray-900/5">
          <div class="flex items-center justify-between">
            <div>
              <p class="text-sm font-semibold text-gray-500 uppercase tracking-wider">Total Tags</p>
              <p class="mt-2 text-4xl font-bold text-gray-900"><%= @tags.size %></p>
            </div>
            <div class="flex items-center justify-center w-14 h-14 rounded-xl bg-gradient-to-br from-blue-500 to-indigo-600 shadow-lg">
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" class="w-7 h-7 text-white">
                <path fill-rule="evenodd" d="M5.5 3A2.5 2.5 0 0 0 3 5.5v2.879a2.5 2.5 0 0 0 .732 1.767l6.5 6.5a2.5 2.5 0 0 0 3.536 0l2.878-2.878a2.5 2.5 0 0 0 0-3.536l-6.5-6.5A2.5 2.5 0 0 0 8.38 3H5.5ZM6 7a1 1 0 1 0 0-2 1 1 0 0 0 0 2Z" clip-rule="evenodd" />
              </svg>
            </div>
          </div>
        </div>

        <!-- Most Popular Card -->
        <% if @tags.any? %>
          <div class="relative overflow-hidden rounded-2xl bg-gradient-to-br from-purple-500 to-pink-600 p-8 shadow-lg">
            <div class="relative z-10">
              <p class="text-sm font-semibold text-purple-100 uppercase tracking-wider">Más Popular</p>
              <p class="mt-2 text-3xl font-bold text-white">#<%= @tags.first.name %></p>
              <p class="mt-1 text-sm text-purple-100"><%= @tags.first.taggings_count %> perfiles</p>
            </div>
            <div class="absolute top-0 right-0 -mt-4 -mr-4 h-32 w-32 rounded-full bg-white/10 blur-2xl"></div>
          </div>
        <% end %>

        <!-- Categories Card -->
        <div class="relative overflow-hidden rounded-2xl bg-white p-8 shadow-lg ring-1 ring-gray-900/5">
          <div class="flex items-center justify-between">
            <div>
              <p class="text-sm font-semibold text-gray-500 uppercase tracking-wider">Categorías</p>
              <p class="mt-2 text-4xl font-bold text-gray-900"><%= Profile.profile_types.count %></p>
            </div>
            <div class="flex items-center justify-center w-14 h-14 rounded-xl bg-gradient-to-br from-green-500 to-emerald-600 shadow-lg">
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" class="w-7 h-7 text-white">
                <path fill-rule="evenodd" d="M3 6a3 3 0 0 1 3-3h2.25a3 3 0 0 1 3 3v2.25a3 3 0 0 1-3 3H6a3 3 0 0 1-3-3V6Zm9.75 0a3 3 0 0 1 3-3H18a3 3 0 0 1 3 3v2.25a3 3 0 0 1-3 3h-2.25a3 3 0 0 1-3-3V6ZM3 15.75a3 3 0 0 1 3-3h2.25a3 3 0 0 1 3 3V18a3 3 0 0 1-3 3H6a3 3 0 0 1-3-3v-2.25Zm9.75 0a3 3 0 0 1 3-3H18a3 3 0 0 1 3 3V18a3 3 0 0 1-3 3h-2.25a3 3 0 0 1-3-3v-2.25Z" clip-rule="evenodd" />
              </svg>
            </div>
          </div>
        </div>
      </div>
    </div>

    <!-- Tags Cloud -->
    <section class="relative">
      <div class="mb-8 flex items-center gap-4">
        <div class="flex items-center justify-center w-12 h-12 rounded-xl bg-gradient-to-br from-indigo-500 to-purple-600 shadow-lg">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" class="w-6 h-6 text-white">
            <path fill-rule="evenodd" d="M5.5 3A2.5 2.5 0 0 0 3 5.5v2.879a2.5 2.5 0 0 0 .732 1.767l6.5 6.5a2.5 2.5 0 0 0 3.536 0l2.878-2.878a2.5 2.5 0 0 0 0-3.536l-6.5-6.5A2.5 2.5 0 0 0 8.38 3H5.5ZM6 7a1 1 0 1 0 0-2 1 1 0 0 0 0 2Z" clip-rule="evenodd" />
          </svg>
        </div>
        <div>
          <h2 class="text-3xl font-bold text-gray-900">Todos los Tags</h2>
          <p class="text-sm text-gray-600">Haz clic en un tag para ver influencers relacionados</p>
        </div>
      </div>

      <div class="overflow-hidden rounded-2xl bg-white shadow-xl ring-1 ring-gray-900/5 p-8">
        <% if @tags.any? %>
          <div class="flex flex-wrap gap-3">
            <% @tags.each do |tag| %>
              <% 
                # Calculate tag size based on usage (between 1 and 5)
                max_count = @tags.first.taggings_count.to_f
                min_count = @tags.last.taggings_count.to_f
                range = max_count - min_count
                
                # Normalize to 1-5 scale
                if range > 0
                  normalized = ((tag.taggings_count - min_count) / range * 4) + 1
                else
                  normalized = 3
                end
                
                # Map to CSS classes
                size_classes = case normalized.round
                when 5
                  'text-3xl px-6 py-4 from-purple-600 to-pink-600'
                when 4
                  'text-2xl px-5 py-3 from-indigo-600 to-purple-600'
                when 3
                  'text-xl px-4 py-3 from-blue-600 to-indigo-600'
                when 2
                  'text-lg px-4 py-2 from-blue-500 to-indigo-500'
                else
                  'text-base px-3 py-2 from-blue-400 to-indigo-400'
                end
              %>
              <%= link_to tag_path(tag), 
                    class: "group relative inline-flex items-center gap-2 rounded-xl bg-gradient-to-r #{size_classes} font-semibold text-white shadow-lg transition-all duration-200 hover:scale-105 hover:shadow-xl" do %>
                <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor" class="w-4 h-4 opacity-80">
                  <path fill-rule="evenodd" d="M5.5 3A2.5 2.5 0 0 0 3 5.5v2.879a2.5 2.5 0 0 0 .732 1.767l6.5 6.5a2.5 2.5 0 0 0 3.536 0l2.878-2.878a2.5 2.5 0 0 0 0-3.536l-6.5-6.5A2.5 2.5 0 0 0 8.38 3H5.5ZM6 7a1 1 0 1 0 0-2 1 1 0 0 0 0 2Z" clip-rule="evenodd" />
                </svg>
                <span>#<%= tag.name %></span>
                <span class="inline-flex items-center justify-center rounded-full bg-white/20 px-2 py-0.5 text-xs font-medium">
                  <%= tag.taggings_count %>
                </span>
              <% end %>
            <% end %>
          </div>
        <% else %>
          <div class="text-center py-12">
            <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="mx-auto h-12 w-12 text-gray-400">
              <path stroke-linecap="round" stroke-linejoin="round" d="M9.568 3H5.25A2.25 2.25 0 0 0 3 5.25v4.318c0 .597.237 1.17.659 1.591l9.581 9.581c.699.699 1.78.872 2.607.33a18.095 18.095 0 0 0 5.223-5.223c.542-.827.369-1.908-.33-2.607L11.16 3.66A2.25 2.25 0 0 0 9.568 3Z" />
              <path stroke-linecap="round" stroke-linejoin="round" d="M6 6h.008v.008H6V6Z" />
            </svg>
            <h3 class="mt-2 text-sm font-semibold text-gray-900">No hay tags disponibles</h3>
            <p class="mt-1 text-sm text-gray-500">Los tags aparecerán aquí cuando los perfiles sean etiquetados.</p>
          </div>
        <% end %>
      </div>
    </section>

    <!-- CTA Section -->
    <div class="mt-16">
      <div class="relative isolate overflow-hidden rounded-3xl bg-gradient-to-br from-indigo-600 via-purple-600 to-pink-600 px-8 py-16 shadow-2xl">
        <div class="mx-auto max-w-2xl text-center">
          <h2 class="text-3xl font-bold tracking-tight text-white sm:text-4xl">
            ¿No encuentras el tag que buscas?
          </h2>
          <p class="mx-auto mt-4 max-w-xl text-lg leading-8 text-purple-100">
            Explora nuestra lista completa de influencers o busca por categorías específicas
          </p>
          <div class="mt-8 flex items-center justify-center gap-x-6">
            <%= link_to profiles_path, class: 'group inline-flex items-center gap-2 rounded-xl bg-white px-6 py-3 text-base font-semibold text-indigo-600 shadow-lg hover:bg-gray-50 hover:scale-105 transition-all duration-200' do %>
              <span>Ver todos los influencers</span>
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor" class="w-5 h-5 group-hover:translate-x-1 transition-transform">
                <path fill-rule="evenodd" d="M3 10a.75.75 0 0 1 .75-.75h10.638L10.23 5.29a.75.75 0 1 1 1.04-1.08l5.5 5.25a.75.75 0 0 1 0 1.08l-5.5 5.25a.75.75 0 1 1-1.04-1.08l4.158-3.96H3.75A.75.75 0 0 1 3 10Z" clip-rule="evenodd" />
              </svg>
            <% end %>
          </div>
        </div>
        <div class="absolute -top-24 right-0 -z-10 transform-gpu blur-3xl">
          <div class="aspect-[1404/767] w-[87.75rem] bg-gradient-to-r from-purple-400 to-pink-400 opacity-25"></div>
        </div>
      </div>
    </div>

  </div>
</div>

